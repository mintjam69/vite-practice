var m=t=>{throw TypeError(t)};var h=(t,r,e)=>r.has(t)||m("Cannot "+e);var s=(t,r,e)=>(h(t,r,"read from private field"),e?e.call(t):r.get(t)),i=(t,r,e)=>r.has(t)?m("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(t):r.set(t,e),y=(t,r,e,l)=>(h(t,r,"write to private field"),l?l.call(t,e):r.set(t,e),e);import"./assets/styles-LgwdaC1H.js";import{a as p,i as c}from"./assets/vendor-frHSA4Lh.js";import{s as P,h as w}from"./assets/render-functions-DnaCRqZ3.js";var a,o,n;class E{constructor(){i(this,a,"https://api.unsplash.com/search/photos");i(this,o,"gcevo00lZKvSMKLnZZJPKYS5xNbpbsP_4i6E-BVlG58");i(this,n,"")}async fetchPopularPhotos(r){try{const{data:e}=await p(s(this,a),{params:{query:"popular",per_page:12,page:r,orientation:"portrait",client_id:s(this,o)}});return e}catch(e){console.log(e)}}async fetchPhotosByQuery(r){try{const{data:e}=await p(s(this,a),{params:{query:s(this,n),per_page:12,page:r,orientation:"portrait",client_id:s(this,o)}});return e}catch(e){console.log(e)}}set query(r){y(this,n,r)}}a=new WeakMap,o=new WeakMap,n=new WeakMap;function d(t){return t.map(({alt_description:r,urls:{small:e},description:l})=>`
          <li class="gallery-item">
            <img src="${e}" alt="${r}" class="gallery-img" />
            <p class="gallery-image-descr">${l||r}</p>
          </li>
    `).join("")}const g=document.querySelector(".loader"),f=document.querySelector(".gallery"),q=document.querySelector(".js-search-form");q.addEventListener("submit",S);const u=new E;u.fetchPopularPhotos(1).then(t=>{f.innerHTML=d(t.results)});async function S(t){t.preventDefault();const r=t.target.elements.query.value.trim();if(!r){c.warning({message:"Input can not be empty"});return}u.query=r,P(g);try{const e=await u.fetchPhotosByQuery(1);if(e.results.length===0){c.warning({message:"Images not found. Try another query",position:"center"});return}c.success({message:`There are ${e.total} images`}),f.innerHTML=d(e.results)}catch(e){console.log(e),c.error({message:e.message||"Sorry, something wrong"})}finally{w(g),q.reset()}}
//# sourceMappingURL=gallery.js.map
