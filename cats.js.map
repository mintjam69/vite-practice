{"version":3,"file":"cats.js","sources":["../src/img/javascript.svg","../src/js/module-11/cats-api.js","../src/js/module-11/main.js"],"sourcesContent":["export default \"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--logos'%20width='32'%20height='32'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20256'%3e%3cpath%20fill='%23F7DF1E'%20d='M0%200h256v256H0V0Z'%3e%3c/path%3e%3cpath%20d='m67.312%20213.932l19.59-11.856c3.78%206.701%207.218%2012.371%2015.465%2012.371c7.905%200%2012.89-3.092%2012.89-15.12v-81.798h24.057v82.138c0%2024.917-14.606%2036.259-35.916%2036.259c-19.245%200-30.416-9.967-36.087-21.996m85.07-2.576l19.588-11.341c5.157%208.421%2011.859%2014.607%2023.715%2014.607c9.969%200%2016.325-4.984%2016.325-11.858c0-8.248-6.53-11.17-17.528-15.98l-6.013-2.58c-17.357-7.387-28.87-16.667-28.87-36.257c0-18.044%2013.747-31.792%2035.228-31.792c15.294%200%2026.292%205.328%2034.196%2019.247l-18.732%2012.03c-4.125-7.389-8.591-10.31-15.465-10.31c-7.046%200-11.514%204.468-11.514%2010.31c0%207.217%204.468%2010.14%2014.778%2014.608l6.014%202.577c20.45%208.765%2031.963%2017.7%2031.963%2037.804c0%2021.654-17.012%2033.51-39.867%2033.51c-22.339%200-36.774-10.654-43.819-24.574'%3e%3c/path%3e%3c/svg%3e\"","/*  1) Створити сторінку яка при завантаженні робить запит на бекенд і оримує\n *  всі доступні breeds. https://api.thecatapi.com/v1/breeds\n * Розмітка картки має виглядати так https://prnt.sc/Kkts8iqQmT91 (для стилізації використовуй наявні стилі)\n *\n * live_CiyBl2DGdQbtRhqwPqEyMf2vf4H3gOsjs1jxhtBzg9HselLoHgS6M5BXCintOvyN */\n\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.thecatapi.com/v1';\naxios.defaults.headers.common['x-api-key'] =\n  'live_CiyBl2DGdQbtRhqwPqEyMf2vf4H3gOsjs1jxhtBzg9HselLoHgS6M5BXCintOvyN';\n\nexport function fetchAllCats() {\n  //   const BASE_URL = 'https://api.thecatapi.com/v1/breeds';\n  //   const API_KEY =\n  //     'live_CiyBl2DGdQbtRhqwPqEyMf2vf4H3gOsjs1jxhtBzg9HselLoHgS6M5BXCintOvyN';\n\n  //   return fetch(`${BASE_URL}?api_key=${API_KEY}`)\n  //     .then(res => {\n  //       if (!res.ok) {\n  //         throw new Error('Wrong request');\n  //       }\n\n  //       return res.json();\n  //     })\n  //     .catch(error => {\n  //       console.log(error);\n  //     });\n\n  // ? Second variant\n\n  return axios('/breeds')\n    .then(res => res.data)\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nexport function fetchRandomCats() {\n  //   const BASE_URL = 'https://api.thecatapi.com/v1/images/search';\n  //   const API_KEY =\n  //     'live_CiyBl2DGdQbtRhqwPqEyMf2vf4H3gOsjs1jxhtBzg9HselLoHgS6M5BXCintOvyN';\n\n  //   const params = new URLSearchParams({\n  //     limit: 20,\n  //     api_key: API_KEY,\n  //   });\n\n  //   return fetch(`${BASE_URL}?${params}`)\n  //     .then(res => {\n  //       if (!res.ok) {\n  //         throw new Error('Wrong request');\n  //       }\n\n  //       return res.json();\n  //     })\n  //     .catch(error => {\n  //       console.log(error);\n  //     });\n\n  return axios('/images/search', { params: { limit: 20 } })\n    .then(res => res.data)\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nexport function fetchRandomDogs() {\n  //   const BASE_URL = 'https://api.thedogapi.com/v1/images/search';\n  //   const API_KEY =\n  //     'live_CiyBl2DGdQbtRhqwPqEyMf2vf4H3gOsjs1jxhtBzg9HselLoHgS6M5BXCintOvyN';\n\n  //   const params = new URLSearchParams({\n  //     limit: 20,\n  //     api_key: API_KEY,\n  //   });\n\n  //   return fetch(`${BASE_URL}?${params}`)\n  //     .then(res => {\n  //       if (!res.ok) {\n  //         throw new Error('Wrong request');\n  //       }\n\n  //       return res.json();\n  //     })\n  //     .catch(error => {\n  //       console.log(error);\n  //     });\n\n  return axios('/images/search', {\n    params: { limit: 20 },\n    baseURL: 'https://api.thedogapi.com/v1',\n  })\n    .then(res => res.data)\n    .catch(error => {\n      console.log(error);\n    });\n}\n\n\nexport function fetchCatsByBreed(id) {\n  return axios('/images/search', { params: { limit: 50, breed_ids: id } })\n    .then(res => res.data)\n    .catch(error => {\n      console.log(error);\n    });\n}","/**\n * https://thecatapi.com/\n *\n * 1) Створити сторінку яка при завантаженні робить запит на бекенд і оримує\n *  всі доступні breeds. https://api.thecatapi.com/v1/breeds\n * Розмітка картки має виглядати так https://prnt.sc/Kkts8iqQmT91 (для стилізації використовуй наявні стилі)\n *\n * 2) Додай кнопки, що буде робити запити за рандомними картинками котиків та собачок.\n * 3) Після запиту під кнопками відображається список карток з зображеннями котиків чи собачок.\n * 4) Під час запиту під кнопками відображається loader\n * 5) При кліку на рандомного котика/собачки відображай модальне вікно з зображенням тваринки\n */\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport icon from '../../img/javascript.svg';\n\nimport { fetchAllCats, fetchRandomCats, fetchRandomDogs, fetchCatsByBreed } from './cats-api';\nimport {\n  createMarkup,\n  createRandomMarkup,\n  showElement,\n  hideElement,\n  simpleLightbox,\n  createBreedsMarkup,\n} from './render-functions';\n\nconst container = document.querySelector('.card-container');\nconst getCatsBtn = document.querySelector('.get-cats');\nconst getDogsBtn = document.querySelector('.get-dogs');\nconst loader = document.querySelector('.loader');\nconst breedsList = document.querySelector('#breeds-list');\nconst formEl = document.querySelector('.search-form');\nconst inputEl = document.querySelector('.input-field');\n\nfetchAllCats().then(res => {\n  console.log(res);\n\n  container.innerHTML = createMarkup(res);\n  breedsList.innerHTML = createBreedsMarkup(res);\n});\n\ngetCatsBtn.addEventListener('click', getRandomCats);\ngetDogsBtn.addEventListener('click', getRandomDogs);\nformEl.addEventListener('submit', getBreedOnSubmit);\n\nfunction getRandomCats() {\n  showElement(loader);\n  fetchRandomCats()\n    .then(res => {\n      console.log(res);\n\n      container.innerHTML = createRandomMarkup(res);\n\n      simpleLightbox.refresh();\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      hideElement(loader);\n    });\n}\n\nfunction getRandomDogs() {\n  showElement(loader);\n  fetchRandomDogs()\n    .then(res => {\n      console.log(res);\n\n      container.innerHTML = createRandomMarkup(res);\n      simpleLightbox.refresh();\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      hideElement(loader);\n    });\n}\n\n/**\n * 1) Ти вже отримуєш всі породи котиків при завантаженні. Тобі це знадобиться для додаткового функціоналу нашого застосунку.\n * 2) В інтерфейсі зʼявилась форма пошуку з прив'язаним дропдауном для всіх breeds. Ти маєш при запиті діставати породу котика і його айді для заповнення інпута випадаючим списком з усіма породами.\n * 3) Користувач в формі вводить або обирає необхідний breed з дропдауна і при сабміті форми\n *  виконується GET запит за зображеннями.\n * 4) Після запиту під формою відображаються картки з зображеннями котиків обраної породи.\n * 5) Під час запиту під формую відображається loader\n */\n\nfunction getBreedOnSubmit(e) {\n  e.preventDefault();\n  // console.log(e.target);\n\n  const selectedBreed = [...breedsList.children].find(option => option.value === inputEl.value);\n  if (!selectedBreed) {\n    iziToast.warning({\n      message: `Choose breed to find cats!`,\n      iconUrl: icon,\n    });\n    return\n  }\n  showElement(loader);\n  fetchCatsByBreed(selectedBreed.id)\n    .then(res => {\n      container.innerHTML = createRandomMarkup(res);\n      simpleLightbox.refresh();\n      iziToast.success({\n        message: `You found ${res.length} cats`,\n      })\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      hideElement(loader);\n      formEl.reset();\n    });\n}\n\n"],"names":["icon","axios","fetchAllCats","res","error","fetchRandomCats","fetchRandomDogs","fetchCatsByBreed","id","container","getCatsBtn","getDogsBtn","loader","breedsList","formEl","inputEl","createMarkup","createBreedsMarkup","getRandomCats","getRandomDogs","getBreedOnSubmit","showElement","createRandomMarkup","simpleLightbox","hideElement","selectedBreed","option","iziToast"],"mappings":"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"}